<!DOCTYPE html><html><head><title>Jetpack Compose is like Android XML</title><meta charset="utf-8"><link rel="icon" href="http://logo.cirru.org/cirru-32x32.png" type="image/png"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.0/styles/github.min.css"><style>
body {
    font-family: "Helvetica Neue", sans-serif;
    margin: 0;
}

body * {
    box-sizing: border-box;
}

.section {
    background-color: #eee;
    padding: 80px;
}

.section:nth-child(2n) {
    background-color: white;
}

.title {
    font-size: 48px;
    color: #888;
    font-weight: 100;
    letter-spacing: 6px;
    text-align: center;
}

.case {}

.name {
    font-size: 32px;
    color: #444;
    font-weight: 200;
    text-align: center;
    margin: 60px;
}

.pair {
    display: flex;
    display: -webkit-flex;
    display: -ms-flexbox;
    justify-content: center;
    -webkit-justify-content: center;
    -ms-box-pack: center;
    -ms-box-align: center;
}

.card {
    flex: 1;
    -webkit-flex: 1;
    -ms-flex: 1;
    max-width: 590px;
    margin: 0 10px;
}

.lang {
    font-size: 22px;
    color: #666;
    font-weight: 100;
    letter-spacing: 2px;
}


.code {
    background-color: white;
    color: #444;
    font-family: Menlo, monospace;
    padding: 0.5em;
    overflow-x: auto;
}
.section:nth-child(2n) .code {
    background-color: #eee;
}

#fork-me {
    position: absolute;
    right: 0;
}

#note {
    font-size: 24px;
    color: #A7A7A7;
    text-align: center;
    padding: 20px;
    background-color: rgb(221, 221, 221);
    font-weight: 100;
    line-height: 2em;
}

.hljs {
    background-color: transparent;
}</style><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.0/highlight.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.0/languages/kotlin.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.0/languages/xml.min.js"></script><script defer="true">hljs.highlightAll();</script></head><body><a target="_blank" href="https://github.com/kibotu/jetpack-compose-is-like-android-xml"><img id="fork-me" src="http://kibotu.github.io/jetpack-compose-is-like-android-xml/fork-me.png"></a><div id="note">Jetpack Compose is like Android-XML</div><div class="section"><div class="title">Text</div><div class="case"><div class="name">Plain Text</div><div class="pair"><div class="card"><div class="lang">Kotlin</div><pre class="code"><code>@Composable
fun Label() {
    Text(
        text = "Hello World",
        maxLines = 1,
        overflow = TextOverflow.Ellipsis,
        modifier = Modifier
            .wrapContentHeight()
            .wrapContentWidth(),
        style = TextStyle(background = Color(0xFF4a8fff))
    )
}</code></pre></div><div class="card"><div class="lang">Xml</div><pre class="code"><code>&lt;TextView
    android:id="@+id/label"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:background="#FF4a8fff"
    android:ellipsize="end"
    android:maxLines="1"
    tools:text="Hello World"/&gt;</code></pre></div></div></div><div class="case"><div class="name">Password</div><div class="pair"></div></div><div class="case"><div class="name">Password (Numeric)</div><div class="pair"></div></div><div class="case"><div class="name">E-Mail</div><div class="pair"></div></div><div class="case"><div class="name">Phone</div><div class="pair"></div></div><div class="case"><div class="name">Postal Address</div><div class="pair"></div></div><div class="case"><div class="name">Multiline Text</div><div class="pair"></div></div><div class="case"><div class="name">Time</div><div class="pair"></div></div><div class="case"><div class="name">Date</div><div class="pair"></div></div><div class="case"><div class="name">Number</div><div class="pair"></div></div><div class="case"><div class="name">Number (Signed)</div><div class="pair"></div></div><div class="case"><div class="name">Number (Decimal)</div><div class="pair"></div></div><div class="case"><div class="name">Auto Complete</div><div class="pair"></div></div><div class="case"><div class="name">Text Input</div><div class="pair"></div></div></div><div class="section"><div class="title">Button</div><div class="case"><div class="name">Image Button</div><div class="pair"></div></div><div class="case"><div class="name">Chip Group</div><div class="pair"></div></div><div class="case"><div class="name">Chip</div><div class="pair"></div></div><div class="case"><div class="name">Check Box</div><div class="pair"></div></div><div class="case"><div class="name">Radio Group</div><div class="pair"></div></div><div class="case"><div class="name">Radio Button</div><div class="pair"></div></div><div class="case"><div class="name">Toggle Button</div><div class="pair"></div></div><div class="case"><div class="name">Switch</div><div class="pair"></div></div><div class="case"><div class="name">Floating Action Button</div><div class="pair"></div></div></div><div class="section"><div class="title">List</div><div class="case"><div class="name">List with different Views</div><div class="pair"><div class="card"><div class="lang">Kotlin</div><pre class="code"><code>sealed class ExampleListItems {

    data class TitleItem(
        val title: String
    ) : ExampleListItems()

    data class ContentItem(
        val title: String,
        val body: String
    ) : ExampleListItems()

}


@Composable
fun ExampleItemsListView(listOfExampleItems: List<ExampleListItems>) {
    LazyColumn {
        items(listOfExampleItems) { item ->
            when (item) {
                is ExampleListItems.TitleItem -> TitleItemView(item = item)
                is ExampleListItems.ContentItem -> ContentItemView(item = item)
            }
        }
    }
}


@Composable
fun TitleItemView(item: ExampleListItems.TitleItem) {
    Row(
        modifier = Modifier
            .background(color = Color.LightGray)
            .padding(all = 20.dp)
    ) {
        Text(text = item.title, fontWeight = FontWeight.Bold)
    }
}


@Composable
fun ContentItemView(item: ExampleListItems.ContentItem) {
    Row(
        modifier = Modifier
            .background(color = Color.Cyan)
            .padding(all = 20.dp)
    ) {
        Column() {
            Text(text = item.title, fontWeight = FontWeight.SemiBold)
            Spacer(modifier = Modifier.padding(vertical = 8.dp))
            Text(text = item.body, fontWeight = FontWeight.ExtraLight)
        }
    }
}</code></pre></div><div class="card"><div class="lang">Xml</div><pre class="code"><code>&lt;androidx.recyclerview.widget.RecyclerView
        android:id="@+id/recycler_view"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:background="@color/shared_colorBackground"
        app:layoutManager="androidx.recyclerview.widget.LinearLayoutManager"/&gt;</code></pre></div></div></div><div class="case"><div class="name">Grid</div><div class="pair"></div></div><div class="case"><div class="name">Staggered</div><div class="pair"><div class="card"><div class="lang">Kotlin</div><pre class="code"><code>@Composable
fun StaggeredGrid(){
    LazyColumn {
        item {
            StaggeredVerticalGrid(
                maxColumnWidth = 155.dp,
                modifier = Modifier.padding(4.dp)
            ) {
                (1..100).forEach {
                    Card(
                        modifier = Modifier.height((100..250).random().dp).padding(5.dp),
                        shape = RoundedCornerShape(15.dp),
                        elevation = 5.dp
                    ){
                        Box(
                            modifier = Modifier
                                .width(120.dp)
                                .fillMaxSize()
                                .background(Color(Random.nextInt(256), Random.nextInt(256), Random.nextInt(256)))
                        )
                    }
                }
            }
        }
    }
}

@Composable
fun StaggeredVerticalGrid(
    modifier: Modifier = Modifier,
    maxColumnWidth: Dp,
    content: @Composable () -> Unit
) {
    Layout(
        content = content,
        modifier = modifier
    ) { measurables, constraints ->
        check(constraints.hasBoundedWidth) {
            "Unbounded width not supported"
        }
        val columns = ceil(constraints.maxWidth / maxColumnWidth.toPx()).toInt()
        val columnWidth = constraints.maxWidth / columns
        val itemConstraints = constraints.copy(maxWidth = columnWidth)
        val colHeights = IntArray(columns) { 0 } // track each column's height
        val placeables = measurables.map { measurable ->
            val column = shortestColumn(colHeights)
            val placeable = measurable.measure(itemConstraints)
            colHeights[column] += placeable.height
            placeable
        }

        val height = colHeights.maxOrNull()?.coerceIn(constraints.minHeight, constraints.maxHeight)
            ?: constraints.minHeight
        layout(
            width = constraints.maxWidth,
            height = height
        ) {
            val colY = IntArray(columns) { 0 }
            placeables.forEach { placeable ->
                val column = shortestColumn(colY)
                placeable.place(
                    x = columnWidth * column,
                    y = colY[column]
                )
                colY[column] += placeable.height
            }
        }
    }
}

private fun shortestColumn(colHeights: IntArray): Int {
    var minHeight = Int.MAX_VALUE
    var column = 0
    colHeights.forEachIndexed { index, height ->
        if (height < minHeight) {
            minHeight = height
            column = index
        }
    }
    return column
}</code></pre></div><div class="card"><div class="lang">Xml</div><pre class="code"><code>&lt;androidx.recyclerview.widget.RecyclerView
    android:id="@+id/recycler_view"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@color/shared_colorBackground"
    app:layoutManager="androidx.recyclerview.widget.StaggeredGridLayoutManager"/&gt;</code></pre></div></div></div></div><div class="section"><div class="title">Layouts</div><div class="case"><div class="name">Constraints</div><div class="pair"></div></div><div class="case"><div class="name">Helper (Group)</div><div class="pair"></div></div><div class="case"><div class="name">Helper (Barrier)</div><div class="pair"></div></div><div class="case"><div class="name">Helper (Flow)</div><div class="pair"></div></div><div class="case"><div class="name">Helper (Layer)</div><div class="pair"></div></div><div class="case"><div class="name">FrameLayout</div><div class="pair"></div></div></div><div class="section"><div class="title">Container</div><div class="case"><div class="name">Spinner</div><div class="pair"></div></div><div class="case"><div class="name">Horizontal Scrolling</div><div class="pair"></div></div><div class="case"><div class="name">Vertical Scrolling</div><div class="pair"></div></div><div class="case"><div class="name">ViewPager</div><div class="pair"></div></div><div class="case"><div class="name">Card</div><div class="pair"></div></div><div class="case"><div class="name">AppBarLayout</div><div class="pair"></div></div><div class="case"><div class="name">BottomAppBar</div><div class="pair"></div></div><div class="case"><div class="name">Toolbar</div><div class="pair"></div></div><div class="case"><div class="name">TabLayout</div><div class="pair"></div></div><div class="case"><div class="name">TabItem</div><div class="pair"></div></div><div class="case"><div class="name">FragmentContainer</div><div class="pair"></div></div><div class="case"><div class="name">NavHost</div><div class="pair"></div></div></div><div class="section"><div class="title">Custom</div><div class="case"><div class="name">Map</div><div class="pair"></div></div></div><div class="section"><div class="title">Modifier</div></div><div class="section"><div class="title">Positioning</div></div><div class="section"><div class="title">States</div></div><div class="section"><div class="title">Events</div></div><div class="section"><div class="title">Material Theme</div></div></body></html>